"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_react-swipeable_es_index_js-node_modules_react-tiny-popover_dist_Popover_js"],{

/***/ "../../../node_modules/react-swipeable/es/index.js":
/*!*********************************************************!*\
  !*** ../../../node_modules/react-swipeable/es/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DOWN\": () => (/* binding */ DOWN),\n/* harmony export */   \"LEFT\": () => (/* binding */ LEFT),\n/* harmony export */   \"RIGHT\": () => (/* binding */ RIGHT),\n/* harmony export */   \"Swipeable\": () => (/* binding */ Swipeable),\n/* harmony export */   \"UP\": () => (/* binding */ UP),\n/* harmony export */   \"useSwipeable\": () => (/* binding */ useSwipeable)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar defaultProps = {\n  preventDefaultTouchmoveEvent: false,\n  delta: 10,\n  rotationAngle: 0,\n  trackMouse: false,\n  trackTouch: true\n};\nvar initialState = {\n  xy: [0, 0],\n  swiping: false,\n  eventData: undefined,\n  start: undefined\n};\nvar LEFT = 'Left';\nvar RIGHT = 'Right';\nvar UP = 'Up';\nvar DOWN = 'Down';\nvar touchStart = 'touchstart';\nvar touchMove = 'touchmove';\nvar touchEnd = 'touchend';\nvar mouseMove = 'mousemove';\nvar mouseUp = 'mouseup';\n\nfunction getDirection(absX, absY, deltaX, deltaY) {\n  if (absX > absY) {\n    if (deltaX > 0) {\n      return LEFT;\n    }\n\n    return RIGHT;\n  } else if (deltaY > 0) {\n    return UP;\n  }\n\n  return DOWN;\n}\n\nfunction rotateXYByAngle(pos, angle) {\n  if (angle === 0) return pos;\n  var angleInRadians = Math.PI / 180 * angle;\n  var x = pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n  var y = pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n  return [x, y];\n}\n\nfunction getHandlers(set, handlerProps) {\n  var onStart = function onStart(event) {\n    // if more than a single touch don't track, for now...\n    if (event.touches && event.touches.length > 1) return;\n    set(function (state, props) {\n      // setup mouse listeners on document to track swipe since swipe can leave container\n      if (props.trackMouse) {\n        document.addEventListener(mouseMove, onMove);\n        document.addEventListener(mouseUp, onUp);\n      }\n\n      var _ref = event.touches ? event.touches[0] : event,\n          clientX = _ref.clientX,\n          clientY = _ref.clientY;\n\n      var xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n      return _extends({}, state, initialState, {\n        eventData: {\n          initial: [].concat(xy),\n          first: true\n        },\n        xy: xy,\n        start: event.timeStamp || 0\n      });\n    });\n  };\n\n  var onMove = function onMove(event) {\n    set(function (state, props) {\n      if (!state.xy[0] || !state.xy[1] || event.touches && event.touches.length > 1) {\n        return state;\n      }\n\n      var _ref2 = event.touches ? event.touches[0] : event,\n          clientX = _ref2.clientX,\n          clientY = _ref2.clientY;\n\n      var _rotateXYByAngle = rotateXYByAngle([clientX, clientY], props.rotationAngle),\n          x = _rotateXYByAngle[0],\n          y = _rotateXYByAngle[1];\n\n      var deltaX = state.xy[0] - x;\n      var deltaY = state.xy[1] - y;\n      var absX = Math.abs(deltaX);\n      var absY = Math.abs(deltaY);\n      var time = (event.timeStamp || 0) - state.start;\n      var velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1); // if swipe is under delta and we have not started to track a swipe: skip update\n\n      if (absX < props.delta && absY < props.delta && !state.swiping) return state;\n      var dir = getDirection(absX, absY, deltaX, deltaY);\n\n      var eventData = _extends({}, state.eventData, {\n        event: event,\n        absX: absX,\n        absY: absY,\n        deltaX: deltaX,\n        deltaY: deltaY,\n        velocity: velocity,\n        dir: dir\n      });\n\n      props.onSwiping && props.onSwiping(eventData); // track if a swipe is cancelable(handler for swiping or swiped(dir) exists)\n      // so we can call preventDefault if needed\n\n      var cancelablePageSwipe = false;\n\n      if (props.onSwiping || props.onSwiped || props[\"onSwiped\" + dir]) {\n        cancelablePageSwipe = true;\n      }\n\n      if (cancelablePageSwipe && props.preventDefaultTouchmoveEvent && props.trackTouch && event.cancelable) event.preventDefault(); // first is now always false\n\n      return _extends({}, state, {\n        eventData: _extends({}, eventData, {\n          first: false\n        }),\n        swiping: true\n      });\n    });\n  };\n\n  var onEnd = function onEnd(event) {\n    set(function (state, props) {\n      var eventData;\n\n      if (state.swiping) {\n        eventData = _extends({}, state.eventData, {\n          event: event\n        });\n        props.onSwiped && props.onSwiped(eventData);\n        props[\"onSwiped\" + eventData.dir] && props[\"onSwiped\" + eventData.dir](eventData);\n      }\n\n      return _extends({}, state, initialState, {\n        eventData: eventData\n      });\n    });\n  };\n\n  var cleanUpMouse = function cleanUpMouse() {\n    // safe to just call removeEventListener\n    document.removeEventListener(mouseMove, onMove);\n    document.removeEventListener(mouseUp, onUp);\n  };\n\n  var onUp = function onUp(e) {\n    cleanUpMouse();\n    onEnd(e);\n  };\n\n  var attachTouch = function attachTouch(el) {\n    if (el && el.addEventListener) {\n      // attach touch event listeners and handlers\n      var tls = [[touchStart, onStart], [touchMove, onMove], [touchEnd, onEnd]];\n      tls.forEach(function (_ref3) {\n        var e = _ref3[0],\n            h = _ref3[1];\n        return el.addEventListener(e, h);\n      }); // return properly scoped cleanup method for removing listeners\n\n      return function () {\n        return tls.forEach(function (_ref4) {\n          var e = _ref4[0],\n              h = _ref4[1];\n          return el.removeEventListener(e, h);\n        });\n      };\n    }\n  };\n\n  var onRef = function onRef(el) {\n    // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n    // ignore null here\n    if (el === null) return;\n    set(function (state, props) {\n      // if the same DOM el as previous just return state\n      if (state.el === el) return state;\n      var addState = {}; // if new DOM el clean up old DOM and reset cleanUpTouch\n\n      if (state.el && state.el !== el && state.cleanUpTouch) {\n        state.cleanUpTouch();\n        addState.cleanUpTouch = null;\n      } // only attach if we want to track touch\n\n\n      if (props.trackTouch && el) {\n        addState.cleanUpTouch = attachTouch(el);\n      } // store event attached DOM el for comparison, clean up, and re-attachment\n\n\n      return _extends({}, state, {\n        el: el\n      }, addState);\n    });\n  }; // set ref callback to attach touch event listeners\n\n\n  var output = {\n    ref: onRef // if track mouse attach mouse down listener\n\n  };\n\n  if (handlerProps.trackMouse) {\n    output.onMouseDown = onStart;\n  }\n\n  return [output, attachTouch];\n}\n\nfunction updateTransientState(state, props, attachTouch) {\n  var addState = {}; // clean up touch handlers if no longer tracking touches\n\n  if (!props.trackTouch && state.cleanUpTouch) {\n    state.cleanUpTouch();\n    addState.cleanUpTouch = null;\n  } else if (props.trackTouch && !state.cleanUpTouch) {\n    // attach/re-attach touch handlers\n    if (state.el) {\n      addState.cleanUpTouch = attachTouch(state.el);\n    }\n  }\n\n  return _extends({}, state, addState);\n}\n\nfunction useSwipeable(props) {\n  var trackMouse = props.trackMouse;\n  var transientState = react__WEBPACK_IMPORTED_MODULE_0__.useRef(_extends({}, initialState, {\n    type: 'hook'\n  }));\n  var transientProps = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n  transientProps.current = _extends({}, defaultProps, props);\n\n  var _React$useMemo = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {\n    return getHandlers(function (cb) {\n      return transientState.current = cb(transientState.current, transientProps.current);\n    }, {\n      trackMouse: trackMouse\n    });\n  }, [trackMouse]),\n      handlers = _React$useMemo[0],\n      attachTouch = _React$useMemo[1];\n\n  transientState.current = updateTransientState(transientState.current, transientProps.current, attachTouch);\n  return handlers;\n}\nvar Swipeable =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(Swipeable, _React$PureComponent);\n\n  function Swipeable(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n\n    _this._set = function (cb) {\n      _this.transientState = cb(_this.transientState, _this.props);\n    };\n\n    _this.transientState = _extends({}, initialState, {\n      type: 'class'\n    });\n    return _this;\n  }\n\n  var _proto = Swipeable.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        style = _this$props.style,\n        _this$props$nodeName = _this$props.nodeName,\n        nodeName = _this$props$nodeName === void 0 ? 'div' : _this$props$nodeName,\n        innerRef = _this$props.innerRef,\n        children = _this$props.children,\n        trackMouse = _this$props.trackMouse;\n\n    var _getHandlers = getHandlers(this._set, {\n      trackMouse: trackMouse\n    }),\n        handlers = _getHandlers[0],\n        attachTouch = _getHandlers[1];\n\n    this.transientState = updateTransientState(this.transientState, this.props, attachTouch);\n    var ref = innerRef ? function (el) {\n      return innerRef(el), handlers.ref(el);\n    } : handlers.ref;\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(nodeName, _extends({}, handlers, {\n      className: className,\n      style: style,\n      ref: ref\n    }), children);\n  };\n\n  return Swipeable;\n}(react__WEBPACK_IMPORTED_MODULE_0__.PureComponent);\nSwipeable.propTypes = {\n  onSwiped: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onSwiping: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onSwipedUp: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onSwipedRight: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onSwipedDown: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  onSwipedLeft: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  delta: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number),\n  preventDefaultTouchmoveEvent: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  nodeName: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().string),\n  trackMouse: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  trackTouch: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool),\n  innerRef: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().func),\n  rotationAngle: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().number)\n};\nSwipeable.defaultProps = defaultProps;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXN3aXBlYWJsZS9lcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1zd2lwZWFibGUvZXMvaW5kZXguanM/MzgwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBwcmV2ZW50RGVmYXVsdFRvdWNobW92ZUV2ZW50OiBmYWxzZSxcbiAgZGVsdGE6IDEwLFxuICByb3RhdGlvbkFuZ2xlOiAwLFxuICB0cmFja01vdXNlOiBmYWxzZSxcbiAgdHJhY2tUb3VjaDogdHJ1ZVxufTtcbnZhciBpbml0aWFsU3RhdGUgPSB7XG4gIHh5OiBbMCwgMF0sXG4gIHN3aXBpbmc6IGZhbHNlLFxuICBldmVudERhdGE6IHVuZGVmaW5lZCxcbiAgc3RhcnQ6IHVuZGVmaW5lZFxufTtcbnZhciBMRUZUID0gJ0xlZnQnO1xudmFyIFJJR0hUID0gJ1JpZ2h0JztcbnZhciBVUCA9ICdVcCc7XG52YXIgRE9XTiA9ICdEb3duJztcbnZhciB0b3VjaFN0YXJ0ID0gJ3RvdWNoc3RhcnQnO1xudmFyIHRvdWNoTW92ZSA9ICd0b3VjaG1vdmUnO1xudmFyIHRvdWNoRW5kID0gJ3RvdWNoZW5kJztcbnZhciBtb3VzZU1vdmUgPSAnbW91c2Vtb3ZlJztcbnZhciBtb3VzZVVwID0gJ21vdXNldXAnO1xuXG5mdW5jdGlvbiBnZXREaXJlY3Rpb24oYWJzWCwgYWJzWSwgZGVsdGFYLCBkZWx0YVkpIHtcbiAgaWYgKGFic1ggPiBhYnNZKSB7XG4gICAgaWYgKGRlbHRhWCA+IDApIHtcbiAgICAgIHJldHVybiBMRUZUO1xuICAgIH1cblxuICAgIHJldHVybiBSSUdIVDtcbiAgfSBlbHNlIGlmIChkZWx0YVkgPiAwKSB7XG4gICAgcmV0dXJuIFVQO1xuICB9XG5cbiAgcmV0dXJuIERPV047XG59XG5cbmZ1bmN0aW9uIHJvdGF0ZVhZQnlBbmdsZShwb3MsIGFuZ2xlKSB7XG4gIGlmIChhbmdsZSA9PT0gMCkgcmV0dXJuIHBvcztcbiAgdmFyIGFuZ2xlSW5SYWRpYW5zID0gTWF0aC5QSSAvIDE4MCAqIGFuZ2xlO1xuICB2YXIgeCA9IHBvc1swXSAqIE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKSArIHBvc1sxXSAqIE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKTtcbiAgdmFyIHkgPSBwb3NbMV0gKiBNYXRoLmNvcyhhbmdsZUluUmFkaWFucykgLSBwb3NbMF0gKiBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG4gIHJldHVybiBbeCwgeV07XG59XG5cbmZ1bmN0aW9uIGdldEhhbmRsZXJzKHNldCwgaGFuZGxlclByb3BzKSB7XG4gIHZhciBvblN0YXJ0ID0gZnVuY3Rpb24gb25TdGFydChldmVudCkge1xuICAgIC8vIGlmIG1vcmUgdGhhbiBhIHNpbmdsZSB0b3VjaCBkb24ndCB0cmFjaywgZm9yIG5vdy4uLlxuICAgIGlmIChldmVudC50b3VjaGVzICYmIGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkgcmV0dXJuO1xuICAgIHNldChmdW5jdGlvbiAoc3RhdGUsIHByb3BzKSB7XG4gICAgICAvLyBzZXR1cCBtb3VzZSBsaXN0ZW5lcnMgb24gZG9jdW1lbnQgdG8gdHJhY2sgc3dpcGUgc2luY2Ugc3dpcGUgY2FuIGxlYXZlIGNvbnRhaW5lclxuICAgICAgaWYgKHByb3BzLnRyYWNrTW91c2UpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZU1vdmUsIG9uTW92ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VVcCwgb25VcCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVmID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudCxcbiAgICAgICAgICBjbGllbnRYID0gX3JlZi5jbGllbnRYLFxuICAgICAgICAgIGNsaWVudFkgPSBfcmVmLmNsaWVudFk7XG5cbiAgICAgIHZhciB4eSA9IHJvdGF0ZVhZQnlBbmdsZShbY2xpZW50WCwgY2xpZW50WV0sIHByb3BzLnJvdGF0aW9uQW5nbGUpO1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdGF0ZSwgaW5pdGlhbFN0YXRlLCB7XG4gICAgICAgIGV2ZW50RGF0YToge1xuICAgICAgICAgIGluaXRpYWw6IFtdLmNvbmNhdCh4eSksXG4gICAgICAgICAgZmlyc3Q6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgeHk6IHh5LFxuICAgICAgICBzdGFydDogZXZlbnQudGltZVN0YW1wIHx8IDBcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBvbk1vdmUgPSBmdW5jdGlvbiBvbk1vdmUoZXZlbnQpIHtcbiAgICBzZXQoZnVuY3Rpb24gKHN0YXRlLCBwcm9wcykge1xuICAgICAgaWYgKCFzdGF0ZS54eVswXSB8fCAhc3RhdGUueHlbMV0gfHwgZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3JlZjIgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXSA6IGV2ZW50LFxuICAgICAgICAgIGNsaWVudFggPSBfcmVmMi5jbGllbnRYLFxuICAgICAgICAgIGNsaWVudFkgPSBfcmVmMi5jbGllbnRZO1xuXG4gICAgICB2YXIgX3JvdGF0ZVhZQnlBbmdsZSA9IHJvdGF0ZVhZQnlBbmdsZShbY2xpZW50WCwgY2xpZW50WV0sIHByb3BzLnJvdGF0aW9uQW5nbGUpLFxuICAgICAgICAgIHggPSBfcm90YXRlWFlCeUFuZ2xlWzBdLFxuICAgICAgICAgIHkgPSBfcm90YXRlWFlCeUFuZ2xlWzFdO1xuXG4gICAgICB2YXIgZGVsdGFYID0gc3RhdGUueHlbMF0gLSB4O1xuICAgICAgdmFyIGRlbHRhWSA9IHN0YXRlLnh5WzFdIC0geTtcbiAgICAgIHZhciBhYnNYID0gTWF0aC5hYnMoZGVsdGFYKTtcbiAgICAgIHZhciBhYnNZID0gTWF0aC5hYnMoZGVsdGFZKTtcbiAgICAgIHZhciB0aW1lID0gKGV2ZW50LnRpbWVTdGFtcCB8fCAwKSAtIHN0YXRlLnN0YXJ0O1xuICAgICAgdmFyIHZlbG9jaXR5ID0gTWF0aC5zcXJ0KGFic1ggKiBhYnNYICsgYWJzWSAqIGFic1kpIC8gKHRpbWUgfHwgMSk7IC8vIGlmIHN3aXBlIGlzIHVuZGVyIGRlbHRhIGFuZCB3ZSBoYXZlIG5vdCBzdGFydGVkIHRvIHRyYWNrIGEgc3dpcGU6IHNraXAgdXBkYXRlXG5cbiAgICAgIGlmIChhYnNYIDwgcHJvcHMuZGVsdGEgJiYgYWJzWSA8IHByb3BzLmRlbHRhICYmICFzdGF0ZS5zd2lwaW5nKSByZXR1cm4gc3RhdGU7XG4gICAgICB2YXIgZGlyID0gZ2V0RGlyZWN0aW9uKGFic1gsIGFic1ksIGRlbHRhWCwgZGVsdGFZKTtcblxuICAgICAgdmFyIGV2ZW50RGF0YSA9IF9leHRlbmRzKHt9LCBzdGF0ZS5ldmVudERhdGEsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBhYnNYOiBhYnNYLFxuICAgICAgICBhYnNZOiBhYnNZLFxuICAgICAgICBkZWx0YVg6IGRlbHRhWCxcbiAgICAgICAgZGVsdGFZOiBkZWx0YVksXG4gICAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSxcbiAgICAgICAgZGlyOiBkaXJcbiAgICAgIH0pO1xuXG4gICAgICBwcm9wcy5vblN3aXBpbmcgJiYgcHJvcHMub25Td2lwaW5nKGV2ZW50RGF0YSk7IC8vIHRyYWNrIGlmIGEgc3dpcGUgaXMgY2FuY2VsYWJsZShoYW5kbGVyIGZvciBzd2lwaW5nIG9yIHN3aXBlZChkaXIpIGV4aXN0cylcbiAgICAgIC8vIHNvIHdlIGNhbiBjYWxsIHByZXZlbnREZWZhdWx0IGlmIG5lZWRlZFxuXG4gICAgICB2YXIgY2FuY2VsYWJsZVBhZ2VTd2lwZSA9IGZhbHNlO1xuXG4gICAgICBpZiAocHJvcHMub25Td2lwaW5nIHx8IHByb3BzLm9uU3dpcGVkIHx8IHByb3BzW1wib25Td2lwZWRcIiArIGRpcl0pIHtcbiAgICAgICAgY2FuY2VsYWJsZVBhZ2VTd2lwZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW5jZWxhYmxlUGFnZVN3aXBlICYmIHByb3BzLnByZXZlbnREZWZhdWx0VG91Y2htb3ZlRXZlbnQgJiYgcHJvcHMudHJhY2tUb3VjaCAmJiBldmVudC5jYW5jZWxhYmxlKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBmaXJzdCBpcyBub3cgYWx3YXlzIGZhbHNlXG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIHtcbiAgICAgICAgZXZlbnREYXRhOiBfZXh0ZW5kcyh7fSwgZXZlbnREYXRhLCB7XG4gICAgICAgICAgZmlyc3Q6IGZhbHNlXG4gICAgICAgIH0pLFxuICAgICAgICBzd2lwaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25FbmQgPSBmdW5jdGlvbiBvbkVuZChldmVudCkge1xuICAgIHNldChmdW5jdGlvbiAoc3RhdGUsIHByb3BzKSB7XG4gICAgICB2YXIgZXZlbnREYXRhO1xuXG4gICAgICBpZiAoc3RhdGUuc3dpcGluZykge1xuICAgICAgICBldmVudERhdGEgPSBfZXh0ZW5kcyh7fSwgc3RhdGUuZXZlbnREYXRhLCB7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9wcy5vblN3aXBlZCAmJiBwcm9wcy5vblN3aXBlZChldmVudERhdGEpO1xuICAgICAgICBwcm9wc1tcIm9uU3dpcGVkXCIgKyBldmVudERhdGEuZGlyXSAmJiBwcm9wc1tcIm9uU3dpcGVkXCIgKyBldmVudERhdGEuZGlyXShldmVudERhdGEpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCBpbml0aWFsU3RhdGUsIHtcbiAgICAgICAgZXZlbnREYXRhOiBldmVudERhdGFcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBjbGVhblVwTW91c2UgPSBmdW5jdGlvbiBjbGVhblVwTW91c2UoKSB7XG4gICAgLy8gc2FmZSB0byBqdXN0IGNhbGwgcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VNb3ZlLCBvbk1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobW91c2VVcCwgb25VcCk7XG4gIH07XG5cbiAgdmFyIG9uVXAgPSBmdW5jdGlvbiBvblVwKGUpIHtcbiAgICBjbGVhblVwTW91c2UoKTtcbiAgICBvbkVuZChlKTtcbiAgfTtcblxuICB2YXIgYXR0YWNoVG91Y2ggPSBmdW5jdGlvbiBhdHRhY2hUb3VjaChlbCkge1xuICAgIGlmIChlbCAmJiBlbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAvLyBhdHRhY2ggdG91Y2ggZXZlbnQgbGlzdGVuZXJzIGFuZCBoYW5kbGVyc1xuICAgICAgdmFyIHRscyA9IFtbdG91Y2hTdGFydCwgb25TdGFydF0sIFt0b3VjaE1vdmUsIG9uTW92ZV0sIFt0b3VjaEVuZCwgb25FbmRdXTtcbiAgICAgIHRscy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgZSA9IF9yZWYzWzBdLFxuICAgICAgICAgICAgaCA9IF9yZWYzWzFdO1xuICAgICAgICByZXR1cm4gZWwuYWRkRXZlbnRMaXN0ZW5lcihlLCBoKTtcbiAgICAgIH0pOyAvLyByZXR1cm4gcHJvcGVybHkgc2NvcGVkIGNsZWFudXAgbWV0aG9kIGZvciByZW1vdmluZyBsaXN0ZW5lcnNcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRscy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICAgIHZhciBlID0gX3JlZjRbMF0sXG4gICAgICAgICAgICAgIGggPSBfcmVmNFsxXTtcbiAgICAgICAgICByZXR1cm4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBoKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2YXIgb25SZWYgPSBmdW5jdGlvbiBvblJlZihlbCkge1xuICAgIC8vIFwiaW5saW5lXCIgcmVmIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIHR3aWNlIG9uIHJlbmRlciwgb25jZSB3aXRoIG51bGwgdGhlbiBhZ2FpbiB3aXRoIERPTSBlbGVtZW50XG4gICAgLy8gaWdub3JlIG51bGwgaGVyZVxuICAgIGlmIChlbCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgIHNldChmdW5jdGlvbiAoc3RhdGUsIHByb3BzKSB7XG4gICAgICAvLyBpZiB0aGUgc2FtZSBET00gZWwgYXMgcHJldmlvdXMganVzdCByZXR1cm4gc3RhdGVcbiAgICAgIGlmIChzdGF0ZS5lbCA9PT0gZWwpIHJldHVybiBzdGF0ZTtcbiAgICAgIHZhciBhZGRTdGF0ZSA9IHt9OyAvLyBpZiBuZXcgRE9NIGVsIGNsZWFuIHVwIG9sZCBET00gYW5kIHJlc2V0IGNsZWFuVXBUb3VjaFxuXG4gICAgICBpZiAoc3RhdGUuZWwgJiYgc3RhdGUuZWwgIT09IGVsICYmIHN0YXRlLmNsZWFuVXBUb3VjaCkge1xuICAgICAgICBzdGF0ZS5jbGVhblVwVG91Y2goKTtcbiAgICAgICAgYWRkU3RhdGUuY2xlYW5VcFRvdWNoID0gbnVsbDtcbiAgICAgIH0gLy8gb25seSBhdHRhY2ggaWYgd2Ugd2FudCB0byB0cmFjayB0b3VjaFxuXG5cbiAgICAgIGlmIChwcm9wcy50cmFja1RvdWNoICYmIGVsKSB7XG4gICAgICAgIGFkZFN0YXRlLmNsZWFuVXBUb3VjaCA9IGF0dGFjaFRvdWNoKGVsKTtcbiAgICAgIH0gLy8gc3RvcmUgZXZlbnQgYXR0YWNoZWQgRE9NIGVsIGZvciBjb21wYXJpc29uLCBjbGVhbiB1cCwgYW5kIHJlLWF0dGFjaG1lbnRcblxuXG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0YXRlLCB7XG4gICAgICAgIGVsOiBlbFxuICAgICAgfSwgYWRkU3RhdGUpO1xuICAgIH0pO1xuICB9OyAvLyBzZXQgcmVmIGNhbGxiYWNrIHRvIGF0dGFjaCB0b3VjaCBldmVudCBsaXN0ZW5lcnNcblxuXG4gIHZhciBvdXRwdXQgPSB7XG4gICAgcmVmOiBvblJlZiAvLyBpZiB0cmFjayBtb3VzZSBhdHRhY2ggbW91c2UgZG93biBsaXN0ZW5lclxuXG4gIH07XG5cbiAgaWYgKGhhbmRsZXJQcm9wcy50cmFja01vdXNlKSB7XG4gICAgb3V0cHV0Lm9uTW91c2VEb3duID0gb25TdGFydDtcbiAgfVxuXG4gIHJldHVybiBbb3V0cHV0LCBhdHRhY2hUb3VjaF07XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVRyYW5zaWVudFN0YXRlKHN0YXRlLCBwcm9wcywgYXR0YWNoVG91Y2gpIHtcbiAgdmFyIGFkZFN0YXRlID0ge307IC8vIGNsZWFuIHVwIHRvdWNoIGhhbmRsZXJzIGlmIG5vIGxvbmdlciB0cmFja2luZyB0b3VjaGVzXG5cbiAgaWYgKCFwcm9wcy50cmFja1RvdWNoICYmIHN0YXRlLmNsZWFuVXBUb3VjaCkge1xuICAgIHN0YXRlLmNsZWFuVXBUb3VjaCgpO1xuICAgIGFkZFN0YXRlLmNsZWFuVXBUb3VjaCA9IG51bGw7XG4gIH0gZWxzZSBpZiAocHJvcHMudHJhY2tUb3VjaCAmJiAhc3RhdGUuY2xlYW5VcFRvdWNoKSB7XG4gICAgLy8gYXR0YWNoL3JlLWF0dGFjaCB0b3VjaCBoYW5kbGVyc1xuICAgIGlmIChzdGF0ZS5lbCkge1xuICAgICAgYWRkU3RhdGUuY2xlYW5VcFRvdWNoID0gYXR0YWNoVG91Y2goc3RhdGUuZWwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RhdGUsIGFkZFN0YXRlKTtcbn1cblxuZnVuY3Rpb24gdXNlU3dpcGVhYmxlKHByb3BzKSB7XG4gIHZhciB0cmFja01vdXNlID0gcHJvcHMudHJhY2tNb3VzZTtcbiAgdmFyIHRyYW5zaWVudFN0YXRlID0gUmVhY3QudXNlUmVmKF9leHRlbmRzKHt9LCBpbml0aWFsU3RhdGUsIHtcbiAgICB0eXBlOiAnaG9vaydcbiAgfSkpO1xuICB2YXIgdHJhbnNpZW50UHJvcHMgPSBSZWFjdC51c2VSZWYoKTtcbiAgdHJhbnNpZW50UHJvcHMuY3VycmVudCA9IF9leHRlbmRzKHt9LCBkZWZhdWx0UHJvcHMsIHByb3BzKTtcblxuICB2YXIgX1JlYWN0JHVzZU1lbW8gPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZ2V0SGFuZGxlcnMoZnVuY3Rpb24gKGNiKSB7XG4gICAgICByZXR1cm4gdHJhbnNpZW50U3RhdGUuY3VycmVudCA9IGNiKHRyYW5zaWVudFN0YXRlLmN1cnJlbnQsIHRyYW5zaWVudFByb3BzLmN1cnJlbnQpO1xuICAgIH0sIHtcbiAgICAgIHRyYWNrTW91c2U6IHRyYWNrTW91c2VcbiAgICB9KTtcbiAgfSwgW3RyYWNrTW91c2VdKSxcbiAgICAgIGhhbmRsZXJzID0gX1JlYWN0JHVzZU1lbW9bMF0sXG4gICAgICBhdHRhY2hUb3VjaCA9IF9SZWFjdCR1c2VNZW1vWzFdO1xuXG4gIHRyYW5zaWVudFN0YXRlLmN1cnJlbnQgPSB1cGRhdGVUcmFuc2llbnRTdGF0ZSh0cmFuc2llbnRTdGF0ZS5jdXJyZW50LCB0cmFuc2llbnRQcm9wcy5jdXJyZW50LCBhdHRhY2hUb3VjaCk7XG4gIHJldHVybiBoYW5kbGVycztcbn1cbnZhciBTd2lwZWFibGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFN3aXBlYWJsZSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN3aXBlYWJsZShwcm9wcykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF90aGlzID0gX1JlYWN0JFB1cmVDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcblxuICAgIF90aGlzLl9zZXQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIF90aGlzLnRyYW5zaWVudFN0YXRlID0gY2IoX3RoaXMudHJhbnNpZW50U3RhdGUsIF90aGlzLnByb3BzKTtcbiAgICB9O1xuXG4gICAgX3RoaXMudHJhbnNpZW50U3RhdGUgPSBfZXh0ZW5kcyh7fSwgaW5pdGlhbFN0YXRlLCB7XG4gICAgICB0eXBlOiAnY2xhc3MnXG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IFN3aXBlYWJsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBjbGFzc05hbWUgPSBfdGhpcyRwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHMuc3R5bGUsXG4gICAgICAgIF90aGlzJHByb3BzJG5vZGVOYW1lID0gX3RoaXMkcHJvcHMubm9kZU5hbWUsXG4gICAgICAgIG5vZGVOYW1lID0gX3RoaXMkcHJvcHMkbm9kZU5hbWUgPT09IHZvaWQgMCA/ICdkaXYnIDogX3RoaXMkcHJvcHMkbm9kZU5hbWUsXG4gICAgICAgIGlubmVyUmVmID0gX3RoaXMkcHJvcHMuaW5uZXJSZWYsXG4gICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHRyYWNrTW91c2UgPSBfdGhpcyRwcm9wcy50cmFja01vdXNlO1xuXG4gICAgdmFyIF9nZXRIYW5kbGVycyA9IGdldEhhbmRsZXJzKHRoaXMuX3NldCwge1xuICAgICAgdHJhY2tNb3VzZTogdHJhY2tNb3VzZVxuICAgIH0pLFxuICAgICAgICBoYW5kbGVycyA9IF9nZXRIYW5kbGVyc1swXSxcbiAgICAgICAgYXR0YWNoVG91Y2ggPSBfZ2V0SGFuZGxlcnNbMV07XG5cbiAgICB0aGlzLnRyYW5zaWVudFN0YXRlID0gdXBkYXRlVHJhbnNpZW50U3RhdGUodGhpcy50cmFuc2llbnRTdGF0ZSwgdGhpcy5wcm9wcywgYXR0YWNoVG91Y2gpO1xuICAgIHZhciByZWYgPSBpbm5lclJlZiA/IGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGlubmVyUmVmKGVsKSwgaGFuZGxlcnMucmVmKGVsKTtcbiAgICB9IDogaGFuZGxlcnMucmVmO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBfZXh0ZW5kcyh7fSwgaGFuZGxlcnMsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgcmVmOiByZWZcbiAgICB9KSwgY2hpbGRyZW4pO1xuICB9O1xuXG4gIHJldHVybiBTd2lwZWFibGU7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuU3dpcGVhYmxlLnByb3BUeXBlcyA9IHtcbiAgb25Td2lwZWQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblN3aXBpbmc6IFByb3BUeXBlcy5mdW5jLFxuICBvblN3aXBlZFVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Td2lwZWRSaWdodDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU3dpcGVkRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU3dpcGVkTGVmdDogUHJvcFR5cGVzLmZ1bmMsXG4gIGRlbHRhOiBQcm9wVHlwZXMubnVtYmVyLFxuICBwcmV2ZW50RGVmYXVsdFRvdWNobW92ZUV2ZW50OiBQcm9wVHlwZXMuYm9vbCxcbiAgbm9kZU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHRyYWNrTW91c2U6IFByb3BUeXBlcy5ib29sLFxuICB0cmFja1RvdWNoOiBQcm9wVHlwZXMuYm9vbCxcbiAgaW5uZXJSZWY6IFByb3BUeXBlcy5mdW5jLFxuICByb3RhdGlvbkFuZ2xlOiBQcm9wVHlwZXMubnVtYmVyXG59O1xuU3dpcGVhYmxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0IHsgRE9XTiwgTEVGVCwgUklHSFQsIFN3aXBlYWJsZSwgVVAsIHVzZVN3aXBlYWJsZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/react-swipeable/es/index.js\n");

/***/ }),

/***/ "../../../node_modules/react-tiny-popover/dist/ArrowContainer.js":
/*!***********************************************************************!*\
  !*** ../../../node_modules/react-tiny-popover/dist/ArrowContainer.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar React = __importStar(__webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"));\nvar util_1 = __webpack_require__(/*! ./util */ \"../../../node_modules/react-tiny-popover/dist/util.js\");\nvar ArrowContainer = function (_a) {\n    var position = _a.position, children = _a.children, style = _a.style, _b = _a.arrowColor, arrowColor = _b === void 0 ? util_1.Constants.DEFAULT_ARROW_COLOR : _b, _c = _a.arrowSize, arrowSize = _c === void 0 ? 10 : _c, arrowStyle = _a.arrowStyle, popoverRect = _a.popoverRect, targetRect = _a.targetRect;\n    return (React.createElement(\"div\", { style: __assign({ paddingLeft: position === 'right' ? arrowSize : 0, paddingTop: position === 'bottom' ? arrowSize : 0, paddingBottom: position === 'top' ? arrowSize : 0, paddingRight: position === 'left' ? arrowSize : 0 }, style) },\n        React.createElement(\"div\", { style: __assign(__assign({ position: 'absolute' }, (function () {\n                var arrowWidth = arrowSize * 2;\n                var top = (targetRect.top - popoverRect.top) + (targetRect.height / 2) - (arrowWidth / 2);\n                var left = (targetRect.left - popoverRect.left) + (targetRect.width / 2) - (arrowWidth / 2);\n                left = left < 0 ? 0 : left;\n                left = left + arrowWidth > popoverRect.width ? popoverRect.width - arrowWidth : left;\n                top = top < 0 ? 0 : top;\n                top = top + arrowWidth > popoverRect.height ? popoverRect.height - arrowWidth : top;\n                switch (position) {\n                    case 'right':\n                        return {\n                            borderTop: arrowSize + \"px solid transparent\",\n                            borderBottom: arrowSize + \"px solid transparent\",\n                            borderRight: arrowSize + \"px solid \" + arrowColor,\n                            left: 0,\n                            top: top,\n                        };\n                    case 'left':\n                        return {\n                            borderTop: arrowSize + \"px solid transparent\",\n                            borderBottom: arrowSize + \"px solid transparent\",\n                            borderLeft: arrowSize + \"px solid \" + arrowColor,\n                            right: 0,\n                            top: top,\n                        };\n                    case 'bottom':\n                        return {\n                            borderLeft: arrowSize + \"px solid transparent\",\n                            borderRight: arrowSize + \"px solid transparent\",\n                            borderBottom: arrowSize + \"px solid \" + arrowColor,\n                            top: 0,\n                            left: left,\n                        };\n                    case 'top':\n                    default:\n                        return {\n                            borderLeft: arrowSize + \"px solid transparent\",\n                            borderRight: arrowSize + \"px solid transparent\",\n                            borderTop: arrowSize + \"px solid \" + arrowColor,\n                            bottom: 0,\n                            left: left,\n                        };\n                }\n            })()), arrowStyle) }),\n        children));\n};\nexports.ArrowContainer = ArrowContainer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L0Fycm93Q29udGFpbmVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdGlueS1wb3BvdmVyL2Rpc3QvQXJyb3dDb250YWluZXIuanM/OTdhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xuICAgIHJlc3VsdFtcImRlZmF1bHRcIl0gPSBtb2Q7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInJlYWN0XCIpKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIEFycm93Q29udGFpbmVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHN0eWxlID0gX2Euc3R5bGUsIF9iID0gX2EuYXJyb3dDb2xvciwgYXJyb3dDb2xvciA9IF9iID09PSB2b2lkIDAgPyB1dGlsXzEuQ29uc3RhbnRzLkRFRkFVTFRfQVJST1dfQ09MT1IgOiBfYiwgX2MgPSBfYS5hcnJvd1NpemUsIGFycm93U2l6ZSA9IF9jID09PSB2b2lkIDAgPyAxMCA6IF9jLCBhcnJvd1N0eWxlID0gX2EuYXJyb3dTdHlsZSwgcG9wb3ZlclJlY3QgPSBfYS5wb3BvdmVyUmVjdCwgdGFyZ2V0UmVjdCA9IF9hLnRhcmdldFJlY3Q7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IF9fYXNzaWduKHsgcGFkZGluZ0xlZnQ6IHBvc2l0aW9uID09PSAncmlnaHQnID8gYXJyb3dTaXplIDogMCwgcGFkZGluZ1RvcDogcG9zaXRpb24gPT09ICdib3R0b20nID8gYXJyb3dTaXplIDogMCwgcGFkZGluZ0JvdHRvbTogcG9zaXRpb24gPT09ICd0b3AnID8gYXJyb3dTaXplIDogMCwgcGFkZGluZ1JpZ2h0OiBwb3NpdGlvbiA9PT0gJ2xlZnQnID8gYXJyb3dTaXplIDogMCB9LCBzdHlsZSkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiBfX2Fzc2lnbihfX2Fzc2lnbih7IHBvc2l0aW9uOiAnYWJzb2x1dGUnIH0sIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFycm93V2lkdGggPSBhcnJvd1NpemUgKiAyO1xuICAgICAgICAgICAgICAgIHZhciB0b3AgPSAodGFyZ2V0UmVjdC50b3AgLSBwb3BvdmVyUmVjdC50b3ApICsgKHRhcmdldFJlY3QuaGVpZ2h0IC8gMikgLSAoYXJyb3dXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0ID0gKHRhcmdldFJlY3QubGVmdCAtIHBvcG92ZXJSZWN0LmxlZnQpICsgKHRhcmdldFJlY3Qud2lkdGggLyAyKSAtIChhcnJvd1dpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgbGVmdCA9IGxlZnQgPCAwID8gMCA6IGxlZnQ7XG4gICAgICAgICAgICAgICAgbGVmdCA9IGxlZnQgKyBhcnJvd1dpZHRoID4gcG9wb3ZlclJlY3Qud2lkdGggPyBwb3BvdmVyUmVjdC53aWR0aCAtIGFycm93V2lkdGggOiBsZWZ0O1xuICAgICAgICAgICAgICAgIHRvcCA9IHRvcCA8IDAgPyAwIDogdG9wO1xuICAgICAgICAgICAgICAgIHRvcCA9IHRvcCArIGFycm93V2lkdGggPiBwb3BvdmVyUmVjdC5oZWlnaHQgPyBwb3BvdmVyUmVjdC5oZWlnaHQgLSBhcnJvd1dpZHRoIDogdG9wO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogYXJyb3dTaXplICsgXCJweCBzb2xpZCBcIiArIGFycm93Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJMZWZ0OiBhcnJvd1NpemUgKyBcInB4IHNvbGlkIFwiICsgYXJyb3dDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogYXJyb3dTaXplICsgXCJweCBzb2xpZCB0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYXJyb3dTaXplICsgXCJweCBzb2xpZCBcIiArIGFycm93Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJMZWZ0OiBhcnJvd1NpemUgKyBcInB4IHNvbGlkIHRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IGFycm93U2l6ZSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGFycm93U2l6ZSArIFwicHggc29saWQgXCIgKyBhcnJvd0NvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpKSwgYXJyb3dTdHlsZSkgfSksXG4gICAgICAgIGNoaWxkcmVuKSk7XG59O1xuZXhwb3J0cy5BcnJvd0NvbnRhaW5lciA9IEFycm93Q29udGFpbmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/react-tiny-popover/dist/ArrowContainer.js\n");

/***/ }),

/***/ "../../../node_modules/react-tiny-popover/dist/Popover.js":
/*!****************************************************************!*\
  !*** ../../../node_modules/react-tiny-popover/dist/Popover.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"../../../node_modules/react/index.js\"));\nvar ArrowContainer_1 = __webpack_require__(/*! ./ArrowContainer */ \"../../../node_modules/react-tiny-popover/dist/ArrowContainer.js\");\nexports.ArrowContainer = ArrowContainer_1.ArrowContainer;\nvar PopoverPortal_1 = __webpack_require__(/*! ./PopoverPortal */ \"../../../node_modules/react-tiny-popover/dist/PopoverPortal.js\");\nvar util_1 = __webpack_require__(/*! ./util */ \"../../../node_modules/react-tiny-popover/dist/util.js\");\nvar DEFAULT_POSITION_ORDER = ['top', 'right', 'left', 'bottom'];\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover(props) {\n        var _this = _super.call(this, props) || this;\n        _this.targetRef = react_1.default.createRef();\n        _this.targetRect = undefined;\n        _this.targetPositionIntervalHandler = undefined;\n        _this.popoverDiv = undefined;\n        _this.positionOrder = undefined;\n        _this.willUnmount = false;\n        _this.willMount = false;\n        _this.onClick = function (e) {\n            var _a = _this.props, onClickOutside = _a.onClickOutside, isOpen = _a.isOpen;\n            if (!_this.willUnmount &&\n                !_this.willMount &&\n                !_this.popoverDiv.contains(e.target) &&\n                !_this.targetRef.current.contains(e.target) &&\n                onClickOutside &&\n                isOpen) {\n                onClickOutside(e);\n            }\n        };\n        _this.onResize = function () {\n            _this.renderPopover();\n        };\n        _this.state = {\n            popoverInfo: undefined,\n            isTransitioningToClosed: false,\n            internalisOpen: false,\n        };\n        _this.willUnmount = false;\n        _this.willMount = true;\n        return _this;\n    }\n    Popover.getDerivedStateFromProps = function (props, state) {\n        var internalisOpen = state.internalisOpen, isTransitioningToClosed = state.isTransitioningToClosed;\n        var isOpen = props.isOpen;\n        if (internalisOpen === true && isOpen === false && !isTransitioningToClosed) {\n            return {\n                internalisOpen: false,\n                isTransitioningToClosed: true,\n            };\n        }\n        // eslint-disable-next-line no-restricted-syntax\n        return null;\n    };\n    Popover.prototype.componentDidMount = function () {\n        var _this = this;\n        window.setTimeout(function () { return (_this.willMount = false); });\n        var _a = this.props, position = _a.position, isOpen = _a.isOpen;\n        this.positionOrder = this.getPositionPriorityOrder(position);\n        this.updatePopover(isOpen);\n    };\n    Popover.prototype.componentDidUpdate = function (prevProps) {\n        var prevIsOpen = prevProps.isOpen, prevAlign = prevProps.align, prevPosition = prevProps.position, prevTransitionDuration = prevProps.transitionDuration, prevPadding = prevProps.padding, prevWindowBorderPadding = prevProps.windowBorderPadding;\n        var _a = this.props, isOpen = _a.isOpen, position = _a.position, transitionDuration = _a.transitionDuration, align = _a.align, contentDestination = _a.contentDestination, padding = _a.padding, windowBorderPadding = _a.windowBorderPadding;\n        this.positionOrder = this.getPositionPriorityOrder(position);\n        var hasNewDestination = prevProps.contentDestination !== contentDestination;\n        if (prevIsOpen !== isOpen ||\n            prevAlign !== align ||\n            prevPosition !== position ||\n            prevPadding !== padding ||\n            prevWindowBorderPadding !== windowBorderPadding ||\n            hasNewDestination) {\n            this.updatePopover(isOpen);\n        }\n        if (prevTransitionDuration !== transitionDuration) {\n            this.popoverDiv.style.transition = \"opacity \" + transitionDuration + \"s\";\n        }\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        this.willUnmount = true;\n        window.clearTimeout(this.removePopoverTimeout);\n        window.clearInterval(this.targetPositionIntervalHandler);\n        window.removeEventListener('resize', this.onResize);\n        window.removeEventListener('click', this.onClick);\n        this.removePopover();\n    };\n    Popover.prototype.getNudgedPopoverPosition = function (_a) {\n        var top = _a.top, left = _a.left, width = _a.width, height = _a.height;\n        var padding = this.props.windowBorderPadding;\n        top = top < padding ? padding : top;\n        top = top + height > window.innerHeight - padding ? window.innerHeight - padding - height : top;\n        left = left < padding ? padding : left;\n        left = left + width > window.innerWidth - padding ? window.innerWidth - padding - width : left;\n        return { top: top, left: left };\n    };\n    Popover.prototype.getPositionPriorityOrder = function (position) {\n        if (position && typeof position !== 'string') {\n            if (util_1.Constants.DEFAULT_POSITIONS.every(function (defaultPosition) { return position.find(function (p) { return p === defaultPosition; }) !== undefined; })) {\n                return util_1.arrayUnique(position);\n            }\n            var remainingPositions = util_1.Constants.DEFAULT_POSITIONS.filter(function (defaultPosition) { return position.find(function (p) { return p === defaultPosition; }) === undefined; });\n            return util_1.arrayUnique(__spreadArrays(position, remainingPositions));\n        }\n        if (position && typeof position === 'string') {\n            var remainingPositions = util_1.Constants.DEFAULT_POSITIONS.filter(function (defaultPosition) { return defaultPosition !== position; });\n            return util_1.arrayUnique(__spreadArrays([position], remainingPositions));\n        }\n        return DEFAULT_POSITION_ORDER;\n    };\n    Popover.prototype.getLocationForPosition = function (position, newTargetRect, popoverRect) {\n        var _a = this.props, padding = _a.padding, align = _a.align;\n        var targetMidX = newTargetRect.left + newTargetRect.width / 2;\n        var targetMidY = newTargetRect.top + newTargetRect.height / 2;\n        var top;\n        var left;\n        switch (position) {\n            case 'top':\n                top = newTargetRect.top - popoverRect.height - padding;\n                left = targetMidX - popoverRect.width / 2;\n                if (align === 'start') {\n                    left = newTargetRect.left;\n                }\n                if (align === 'end') {\n                    left = newTargetRect.right - popoverRect.width;\n                }\n                break;\n            case 'left':\n                top = targetMidY - popoverRect.height / 2;\n                left = newTargetRect.left - padding - popoverRect.width;\n                if (align === 'start') {\n                    top = newTargetRect.top;\n                }\n                if (align === 'end') {\n                    top = newTargetRect.bottom - popoverRect.height;\n                }\n                break;\n            case 'bottom':\n                top = newTargetRect.bottom + padding;\n                left = targetMidX - popoverRect.width / 2;\n                if (align === 'start') {\n                    left = newTargetRect.left;\n                }\n                if (align === 'end') {\n                    left = newTargetRect.right - popoverRect.width;\n                }\n                break;\n            case 'right':\n                top = targetMidY - popoverRect.height / 2;\n                left = newTargetRect.right + padding;\n                if (align === 'start') {\n                    top = newTargetRect.top;\n                }\n                if (align === 'end') {\n                    top = newTargetRect.bottom - popoverRect.height;\n                }\n                break;\n            default:\n                break;\n        }\n        return { top: top, left: left };\n    };\n    Popover.prototype.createContainer = function () {\n        var _a = this.props, containerStyle = _a.containerStyle, containerClassName = _a.containerClassName;\n        var container = window.document.createElement('div');\n        container.style.overflow = 'hidden';\n        if (containerStyle) {\n            Object.keys(containerStyle).forEach(function (key) {\n                return (container.style[key] = containerStyle[key]);\n            });\n        }\n        container.className = containerClassName;\n        container.style.position = 'absolute';\n        container.style.top = '0';\n        container.style.left = '0';\n        return container;\n    };\n    Popover.prototype.updatePopover = function (isOpen) {\n        if (isOpen && this.targetRef) {\n            if (!this.popoverDiv || !this.popoverDiv.parentNode) {\n                var transitionDuration = this.props.transitionDuration;\n                this.popoverDiv = this.createContainer();\n                this.popoverDiv.style.opacity = '0';\n                this.popoverDiv.style.transition = \"opacity \" + transitionDuration + \"s\";\n            }\n            window.addEventListener('resize', this.onResize);\n            window.addEventListener('click', this.onClick);\n            this.renderPopover();\n        }\n        else {\n            this.removePopover();\n        }\n    };\n    Popover.prototype.startTargetPositionListener = function (checkInterval) {\n        var _this = this;\n        if (!this.targetPositionIntervalHandler) {\n            this.targetPositionIntervalHandler = window.setInterval(function () {\n                var newTargetRect = _this.targetRef.current.getBoundingClientRect();\n                if (util_1.targetPositionHasChanged(_this.targetRect, newTargetRect)) {\n                    _this.renderPopover();\n                }\n                _this.targetRect = newTargetRect;\n            }, checkInterval);\n        }\n    };\n    Popover.prototype.removePopover = function () {\n        var _this = this;\n        // this should now be a callback to handle event listening upon portal disappearance\n        var _a = this.props, transitionDuration = _a.transitionDuration, isOpen = _a.isOpen;\n        if (this.popoverDiv) {\n            this.popoverDiv.style.opacity = '0';\n        }\n        var remove = function () {\n            if (_this.willUnmount || !isOpen || !_this.popoverDiv.parentNode) {\n                window.clearInterval(_this.targetPositionIntervalHandler);\n                window.removeEventListener('resize', _this.onResize);\n                window.removeEventListener('click', _this.onClick);\n                _this.targetPositionIntervalHandler = undefined;\n                _this.setState({ isTransitioningToClosed: false });\n            }\n        };\n        if (!this.willUnmount) {\n            this.removePopoverTimeout = window.setTimeout(remove, (transitionDuration || util_1.Constants.FADE_TRANSITION) * 1000);\n        }\n        else {\n            remove();\n        }\n    };\n    Popover.prototype.renderPopover = function (positionIndex) {\n        var _this = this;\n        if (positionIndex === void 0) { positionIndex = 0; }\n        if (positionIndex >= this.positionOrder.length) {\n            return;\n        }\n        this.renderWithPosition({\n            position: this.positionOrder[positionIndex],\n            targetRect: this.targetRef.current.getBoundingClientRect(),\n        }, function (violation, rect) {\n            var _a;\n            var _b = _this.props, disableReposition = _b.disableReposition, contentLocation = _b.contentLocation, contentDestination = _b.contentDestination;\n            if (violation && !disableReposition && !(typeof contentLocation === 'object')) {\n                _this.renderPopover(positionIndex + 1);\n            }\n            else {\n                var _c = _this.props, contentLocation_1 = _c.contentLocation, align = _c.align;\n                var _d = _this.getNudgedPopoverPosition(rect), nudgedTop = _d.top, nudgedLeft = _d.left;\n                var rectTop = rect.top, rectLeft = rect.left;\n                var position = _this.positionOrder[positionIndex];\n                var _e = disableReposition\n                    ? { top: rectTop, left: rectLeft }\n                    : { top: nudgedTop, left: nudgedLeft }, top_1 = _e.top, left = _e.left;\n                if (contentLocation_1) {\n                    var targetRect = _this.targetRef.current.getBoundingClientRect();\n                    var popoverRect = _this.popoverDiv.getBoundingClientRect();\n                    (_a = typeof contentLocation_1 === 'function'\n                        ? contentLocation_1({\n                            targetRect: targetRect,\n                            popoverRect: popoverRect,\n                            position: position,\n                            align: align,\n                            nudgedLeft: nudgedLeft,\n                            nudgedTop: nudgedTop,\n                        })\n                        : contentLocation_1, top_1 = _a.top, left = _a.left);\n                    _this.popoverDiv.style.left = left.toFixed() + \"px\";\n                    _this.popoverDiv.style.top = top_1.toFixed() + \"px\";\n                }\n                else {\n                    var destinationTopOffset = 0;\n                    var destinationLeftOffset = 0;\n                    if (contentDestination) {\n                        var destRect = contentDestination.getBoundingClientRect();\n                        destinationTopOffset = -destRect.top;\n                        destinationLeftOffset = -destRect.left;\n                    }\n                    var absoluteTop = top_1 + window.pageYOffset;\n                    var absoluteLeft = left + window.pageXOffset;\n                    var finalLeft = absoluteLeft + destinationTopOffset;\n                    var finalTop = absoluteTop + destinationLeftOffset;\n                    _this.popoverDiv.style.left = finalLeft.toFixed() + \"px\";\n                    _this.popoverDiv.style.top = finalTop.toFixed() + \"px\";\n                }\n                _this.popoverDiv.style.width = undefined;\n                _this.popoverDiv.style.height = undefined;\n                _this.renderWithPosition({\n                    position: position,\n                    nudgedTop: nudgedTop - rect.top,\n                    nudgedLeft: nudgedLeft - rect.left,\n                    targetRect: _this.targetRef.current.getBoundingClientRect(),\n                    popoverRect: _this.popoverDiv.getBoundingClientRect(),\n                }, function () {\n                    _this.startTargetPositionListener(10);\n                    if (_this.popoverDiv.style.opacity !== '1' && !_this.state.isTransitioningToClosed) {\n                        _this.popoverDiv.style.opacity = '1';\n                    }\n                });\n            }\n        });\n    };\n    Popover.prototype.renderPopoverContent = function () {\n        var _a = this.props, content = _a.content, isOpen = _a.isOpen, contentDestination = _a.contentDestination;\n        var _b = this.state, popoverInfo = _b.popoverInfo, isTransitioningToClosed = _b.isTransitioningToClosed;\n        if ((isOpen || isTransitioningToClosed) && this.popoverDiv && popoverInfo) {\n            var getContent = function (args) {\n                return typeof content === 'function' ? content(args) : content;\n            };\n            return (react_1.default.createElement(PopoverPortal_1.PopoverPortal, { element: this.popoverDiv, container: contentDestination || window.document.body }, getContent(popoverInfo)));\n        }\n        return null;\n    };\n    Popover.prototype.renderChildContent = function () {\n        var children = this.props.children;\n        return typeof children === 'function'\n            ? children(this.targetRef)\n            : react_1.default.cloneElement(children, {\n                ref: this.targetRef,\n            });\n    };\n    Popover.prototype.renderWithPosition = function (_a, callback) {\n        var _this = this;\n        var position = _a.position, _b = _a.nudgedLeft, nudgedLeft = _b === void 0 ? 0 : _b, _c = _a.nudgedTop, nudgedTop = _c === void 0 ? 0 : _c, _d = _a.targetRect, targetRect = _d === void 0 ? util_1.Constants.EMPTY_CLIENT_RECT : _d, _e = _a.popoverRect, popoverRect = _e === void 0 ? util_1.Constants.EMPTY_CLIENT_RECT : _e;\n        var _f = this.props, padding = _f.windowBorderPadding, align = _f.align;\n        var popoverInfo = { position: position, nudgedLeft: nudgedLeft, nudgedTop: nudgedTop, targetRect: targetRect, popoverRect: popoverRect, align: align };\n        if (!util_1.popoverInfosAreEqual(this.state.popoverInfo, popoverInfo)) {\n            window.clearTimeout(this.removePopoverTimeout);\n            this.setState({ popoverInfo: popoverInfo, isTransitioningToClosed: false, internalisOpen: true }, function () {\n                if (_this.willUnmount) {\n                    return;\n                }\n                targetRect = _this.targetRef.current.getBoundingClientRect();\n                popoverRect = _this.popoverDiv.getBoundingClientRect();\n                var _a = _this.getLocationForPosition(position, targetRect, popoverRect), top = _a.top, left = _a.left;\n                callback((position === 'top' && top < padding) ||\n                    (position === 'left' && left < padding) ||\n                    (position === 'right' && left + popoverRect.width > window.innerWidth - padding) ||\n                    (position === 'bottom' && top + popoverRect.height > window.innerHeight - padding), { width: popoverRect.width, height: popoverRect.height, top: top, left: left });\n            });\n        }\n    };\n    Popover.prototype.render = function () {\n        return (react_1.default.createElement(react_1.default.Fragment, null,\n            this.renderChildContent(),\n            this.renderPopoverContent()));\n    };\n    Popover.defaultProps = {\n        padding: util_1.Constants.DEFAULT_PADDING,\n        windowBorderPadding: util_1.Constants.DEFAULT_WINDOW_PADDING,\n        position: DEFAULT_POSITION_ORDER,\n        align: 'center',\n        containerClassName: util_1.Constants.POPOVER_CONTAINER_CLASS_NAME,\n        transitionDuration: util_1.Constants.FADE_TRANSITION,\n    };\n    return Popover;\n}(react_1.default.Component));\nexports.default = Popover;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L1BvcG92ZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtdGlueS1wb3BvdmVyL2Rpc3QvUG9wb3Zlci5qcz8wYjZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCJyZWFjdFwiKSk7XG52YXIgQXJyb3dDb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL0Fycm93Q29udGFpbmVyXCIpO1xuZXhwb3J0cy5BcnJvd0NvbnRhaW5lciA9IEFycm93Q29udGFpbmVyXzEuQXJyb3dDb250YWluZXI7XG52YXIgUG9wb3ZlclBvcnRhbF8xID0gcmVxdWlyZShcIi4vUG9wb3ZlclBvcnRhbFwiKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xudmFyIERFRkFVTFRfUE9TSVRJT05fT1JERVIgPSBbJ3RvcCcsICdyaWdodCcsICdsZWZ0JywgJ2JvdHRvbSddO1xudmFyIFBvcG92ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvcG92ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9wb3Zlcihwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudGFyZ2V0UmVmID0gcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZVJlZigpO1xuICAgICAgICBfdGhpcy50YXJnZXRSZWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICBfdGhpcy50YXJnZXRQb3NpdGlvbkludGVydmFsSGFuZGxlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucG9wb3ZlckRpdiA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMucG9zaXRpb25PcmRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgX3RoaXMud2lsbFVubW91bnQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMud2lsbE1vdW50ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG9uQ2xpY2tPdXRzaWRlID0gX2Eub25DbGlja091dHNpZGUsIGlzT3BlbiA9IF9hLmlzT3BlbjtcbiAgICAgICAgICAgIGlmICghX3RoaXMud2lsbFVubW91bnQgJiZcbiAgICAgICAgICAgICAgICAhX3RoaXMud2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgICAgIV90aGlzLnBvcG92ZXJEaXYuY29udGFpbnMoZS50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIV90aGlzLnRhcmdldFJlZi5jdXJyZW50LmNvbnRhaW5zKGUudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgIG9uQ2xpY2tPdXRzaWRlICYmXG4gICAgICAgICAgICAgICAgaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgb25DbGlja091dHNpZGUoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyUG9wb3ZlcigpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHBvcG92ZXJJbmZvOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpc1RyYW5zaXRpb25pbmdUb0Nsb3NlZDogZmFsc2UsXG4gICAgICAgICAgICBpbnRlcm5hbGlzT3BlbjogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLndpbGxVbm1vdW50ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLndpbGxNb3VudCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUG9wb3Zlci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMsIHN0YXRlKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbGlzT3BlbiA9IHN0YXRlLmludGVybmFsaXNPcGVuLCBpc1RyYW5zaXRpb25pbmdUb0Nsb3NlZCA9IHN0YXRlLmlzVHJhbnNpdGlvbmluZ1RvQ2xvc2VkO1xuICAgICAgICB2YXIgaXNPcGVuID0gcHJvcHMuaXNPcGVuO1xuICAgICAgICBpZiAoaW50ZXJuYWxpc09wZW4gPT09IHRydWUgJiYgaXNPcGVuID09PSBmYWxzZSAmJiAhaXNUcmFuc2l0aW9uaW5nVG9DbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxpc09wZW46IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzVHJhbnNpdGlvbmluZ1RvQ2xvc2VkOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gKF90aGlzLndpbGxNb3VudCA9IGZhbHNlKTsgfSk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIGlzT3BlbiA9IF9hLmlzT3BlbjtcbiAgICAgICAgdGhpcy5wb3NpdGlvbk9yZGVyID0gdGhpcy5nZXRQb3NpdGlvblByaW9yaXR5T3JkZXIocG9zaXRpb24pO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvcG92ZXIoaXNPcGVuKTtcbiAgICB9O1xuICAgIFBvcG92ZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICAgICAgdmFyIHByZXZJc09wZW4gPSBwcmV2UHJvcHMuaXNPcGVuLCBwcmV2QWxpZ24gPSBwcmV2UHJvcHMuYWxpZ24sIHByZXZQb3NpdGlvbiA9IHByZXZQcm9wcy5wb3NpdGlvbiwgcHJldlRyYW5zaXRpb25EdXJhdGlvbiA9IHByZXZQcm9wcy50cmFuc2l0aW9uRHVyYXRpb24sIHByZXZQYWRkaW5nID0gcHJldlByb3BzLnBhZGRpbmcsIHByZXZXaW5kb3dCb3JkZXJQYWRkaW5nID0gcHJldlByb3BzLndpbmRvd0JvcmRlclBhZGRpbmc7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGlzT3BlbiA9IF9hLmlzT3BlbiwgcG9zaXRpb24gPSBfYS5wb3NpdGlvbiwgdHJhbnNpdGlvbkR1cmF0aW9uID0gX2EudHJhbnNpdGlvbkR1cmF0aW9uLCBhbGlnbiA9IF9hLmFsaWduLCBjb250ZW50RGVzdGluYXRpb24gPSBfYS5jb250ZW50RGVzdGluYXRpb24sIHBhZGRpbmcgPSBfYS5wYWRkaW5nLCB3aW5kb3dCb3JkZXJQYWRkaW5nID0gX2Eud2luZG93Qm9yZGVyUGFkZGluZztcbiAgICAgICAgdGhpcy5wb3NpdGlvbk9yZGVyID0gdGhpcy5nZXRQb3NpdGlvblByaW9yaXR5T3JkZXIocG9zaXRpb24pO1xuICAgICAgICB2YXIgaGFzTmV3RGVzdGluYXRpb24gPSBwcmV2UHJvcHMuY29udGVudERlc3RpbmF0aW9uICE9PSBjb250ZW50RGVzdGluYXRpb247XG4gICAgICAgIGlmIChwcmV2SXNPcGVuICE9PSBpc09wZW4gfHxcbiAgICAgICAgICAgIHByZXZBbGlnbiAhPT0gYWxpZ24gfHxcbiAgICAgICAgICAgIHByZXZQb3NpdGlvbiAhPT0gcG9zaXRpb24gfHxcbiAgICAgICAgICAgIHByZXZQYWRkaW5nICE9PSBwYWRkaW5nIHx8XG4gICAgICAgICAgICBwcmV2V2luZG93Qm9yZGVyUGFkZGluZyAhPT0gd2luZG93Qm9yZGVyUGFkZGluZyB8fFxuICAgICAgICAgICAgaGFzTmV3RGVzdGluYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9wb3Zlcihpc09wZW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2VHJhbnNpdGlvbkR1cmF0aW9uICE9PSB0cmFuc2l0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucG9wb3ZlckRpdi5zdHlsZS50cmFuc2l0aW9uID0gXCJvcGFjaXR5IFwiICsgdHJhbnNpdGlvbkR1cmF0aW9uICsgXCJzXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBvcG92ZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndpbGxVbm1vdW50ID0gdHJ1ZTtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlbW92ZVBvcG92ZXJUaW1lb3V0KTtcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50YXJnZXRQb3NpdGlvbkludGVydmFsSGFuZGxlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb3BvdmVyKCk7XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5nZXROdWRnZWRQb3BvdmVyUG9zaXRpb24gPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIHRvcCA9IF9hLnRvcCwgbGVmdCA9IF9hLmxlZnQsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnByb3BzLndpbmRvd0JvcmRlclBhZGRpbmc7XG4gICAgICAgIHRvcCA9IHRvcCA8IHBhZGRpbmcgPyBwYWRkaW5nIDogdG9wO1xuICAgICAgICB0b3AgPSB0b3AgKyBoZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSBwYWRkaW5nID8gd2luZG93LmlubmVySGVpZ2h0IC0gcGFkZGluZyAtIGhlaWdodCA6IHRvcDtcbiAgICAgICAgbGVmdCA9IGxlZnQgPCBwYWRkaW5nID8gcGFkZGluZyA6IGxlZnQ7XG4gICAgICAgIGxlZnQgPSBsZWZ0ICsgd2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhZGRpbmcgPyB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhZGRpbmcgLSB3aWR0aCA6IGxlZnQ7XG4gICAgICAgIHJldHVybiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH07XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5nZXRQb3NpdGlvblByaW9yaXR5T3JkZXIgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uICYmIHR5cGVvZiBwb3NpdGlvbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh1dGlsXzEuQ29uc3RhbnRzLkRFRkFVTFRfUE9TSVRJT05TLmV2ZXJ5KGZ1bmN0aW9uIChkZWZhdWx0UG9zaXRpb24pIHsgcmV0dXJuIHBvc2l0aW9uLmZpbmQoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAgPT09IGRlZmF1bHRQb3NpdGlvbjsgfSkgIT09IHVuZGVmaW5lZDsgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbF8xLmFycmF5VW5pcXVlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByZW1haW5pbmdQb3NpdGlvbnMgPSB1dGlsXzEuQ29uc3RhbnRzLkRFRkFVTFRfUE9TSVRJT05TLmZpbHRlcihmdW5jdGlvbiAoZGVmYXVsdFBvc2l0aW9uKSB7IHJldHVybiBwb3NpdGlvbi5maW5kKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwID09PSBkZWZhdWx0UG9zaXRpb247IH0pID09PSB1bmRlZmluZWQ7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxfMS5hcnJheVVuaXF1ZShfX3NwcmVhZEFycmF5cyhwb3NpdGlvbiwgcmVtYWluaW5nUG9zaXRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uICYmIHR5cGVvZiBwb3NpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdQb3NpdGlvbnMgPSB1dGlsXzEuQ29uc3RhbnRzLkRFRkFVTFRfUE9TSVRJT05TLmZpbHRlcihmdW5jdGlvbiAoZGVmYXVsdFBvc2l0aW9uKSB7IHJldHVybiBkZWZhdWx0UG9zaXRpb24gIT09IHBvc2l0aW9uOyB9KTtcbiAgICAgICAgICAgIHJldHVybiB1dGlsXzEuYXJyYXlVbmlxdWUoX19zcHJlYWRBcnJheXMoW3Bvc2l0aW9uXSwgcmVtYWluaW5nUG9zaXRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERFRkFVTFRfUE9TSVRJT05fT1JERVI7XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5nZXRMb2NhdGlvbkZvclBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBuZXdUYXJnZXRSZWN0LCBwb3BvdmVyUmVjdCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBwYWRkaW5nID0gX2EucGFkZGluZywgYWxpZ24gPSBfYS5hbGlnbjtcbiAgICAgICAgdmFyIHRhcmdldE1pZFggPSBuZXdUYXJnZXRSZWN0LmxlZnQgKyBuZXdUYXJnZXRSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgdmFyIHRhcmdldE1pZFkgPSBuZXdUYXJnZXRSZWN0LnRvcCArIG5ld1RhcmdldFJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIHRvcDtcbiAgICAgICAgdmFyIGxlZnQ7XG4gICAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgdG9wID0gbmV3VGFyZ2V0UmVjdC50b3AgLSBwb3BvdmVyUmVjdC5oZWlnaHQgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGxlZnQgPSB0YXJnZXRNaWRYIC0gcG9wb3ZlclJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gbmV3VGFyZ2V0UmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBuZXdUYXJnZXRSZWN0LnJpZ2h0IC0gcG9wb3ZlclJlY3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgdG9wID0gdGFyZ2V0TWlkWSAtIHBvcG92ZXJSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgbGVmdCA9IG5ld1RhcmdldFJlY3QubGVmdCAtIHBhZGRpbmcgLSBwb3BvdmVyUmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICBpZiAoYWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gbmV3VGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gbmV3VGFyZ2V0UmVjdC5ib3R0b20gLSBwb3BvdmVyUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0b3AgPSBuZXdUYXJnZXRSZWN0LmJvdHRvbSArIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgbGVmdCA9IHRhcmdldE1pZFggLSBwb3BvdmVyUmVjdC53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBuZXdUYXJnZXRSZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IG5ld1RhcmdldFJlY3QucmlnaHQgLSBwb3BvdmVyUmVjdC53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdG9wID0gdGFyZ2V0TWlkWSAtIHBvcG92ZXJSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgbGVmdCA9IG5ld1RhcmdldFJlY3QucmlnaHQgKyBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBuZXdUYXJnZXRSZWN0LnRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSBuZXdUYXJnZXRSZWN0LmJvdHRvbSAtIHBvcG92ZXJSZWN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRvcDogdG9wLCBsZWZ0OiBsZWZ0IH07XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5jcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNvbnRhaW5lclN0eWxlID0gX2EuY29udGFpbmVyU3R5bGUsIGNvbnRhaW5lckNsYXNzTmFtZSA9IF9hLmNvbnRhaW5lckNsYXNzTmFtZTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIGlmIChjb250YWluZXJTdHlsZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY29udGFpbmVyU3R5bGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoY29udGFpbmVyLnN0eWxlW2tleV0gPSBjb250YWluZXJTdHlsZVtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBjb250YWluZXJDbGFzc05hbWU7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgUG9wb3Zlci5wcm90b3R5cGUudXBkYXRlUG9wb3ZlciA9IGZ1bmN0aW9uIChpc09wZW4pIHtcbiAgICAgICAgaWYgKGlzT3BlbiAmJiB0aGlzLnRhcmdldFJlZikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBvcG92ZXJEaXYgfHwgIXRoaXMucG9wb3ZlckRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMucHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMucG9wb3ZlckRpdiA9IHRoaXMuY3JlYXRlQ29udGFpbmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyRGl2LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyRGl2LnN0eWxlLnRyYW5zaXRpb24gPSBcIm9wYWNpdHkgXCIgKyB0cmFuc2l0aW9uRHVyYXRpb24gKyBcInNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclBvcG92ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUG9wb3ZlcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5zdGFydFRhcmdldFBvc2l0aW9uTGlzdGVuZXIgPSBmdW5jdGlvbiAoY2hlY2tJbnRlcnZhbCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0UG9zaXRpb25JbnRlcnZhbEhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb25JbnRlcnZhbEhhbmRsZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdUYXJnZXRSZWN0ID0gX3RoaXMudGFyZ2V0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHV0aWxfMS50YXJnZXRQb3NpdGlvbkhhc0NoYW5nZWQoX3RoaXMudGFyZ2V0UmVjdCwgbmV3VGFyZ2V0UmVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyUG9wb3ZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy50YXJnZXRSZWN0ID0gbmV3VGFyZ2V0UmVjdDtcbiAgICAgICAgICAgIH0sIGNoZWNrSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5yZW1vdmVQb3BvdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyB0aGlzIHNob3VsZCBub3cgYmUgYSBjYWxsYmFjayB0byBoYW5kbGUgZXZlbnQgbGlzdGVuaW5nIHVwb24gcG9ydGFsIGRpc2FwcGVhcmFuY2VcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgdHJhbnNpdGlvbkR1cmF0aW9uID0gX2EudHJhbnNpdGlvbkR1cmF0aW9uLCBpc09wZW4gPSBfYS5pc09wZW47XG4gICAgICAgIGlmICh0aGlzLnBvcG92ZXJEaXYpIHtcbiAgICAgICAgICAgIHRoaXMucG9wb3ZlckRpdi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMud2lsbFVubW91bnQgfHwgIWlzT3BlbiB8fCAhX3RoaXMucG9wb3ZlckRpdi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoX3RoaXMudGFyZ2V0UG9zaXRpb25JbnRlcnZhbEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXMub25DbGljayk7XG4gICAgICAgICAgICAgICAgX3RoaXMudGFyZ2V0UG9zaXRpb25JbnRlcnZhbEhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBpc1RyYW5zaXRpb25pbmdUb0Nsb3NlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpcy53aWxsVW5tb3VudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVQb3BvdmVyVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KHJlbW92ZSwgKHRyYW5zaXRpb25EdXJhdGlvbiB8fCB1dGlsXzEuQ29uc3RhbnRzLkZBREVfVFJBTlNJVElPTikgKiAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3BvdmVyLnByb3RvdHlwZS5yZW5kZXJQb3BvdmVyID0gZnVuY3Rpb24gKHBvc2l0aW9uSW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHBvc2l0aW9uSW5kZXggPT09IHZvaWQgMCkgeyBwb3NpdGlvbkluZGV4ID0gMDsgfVxuICAgICAgICBpZiAocG9zaXRpb25JbmRleCA+PSB0aGlzLnBvc2l0aW9uT3JkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJXaXRoUG9zaXRpb24oe1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucG9zaXRpb25PcmRlcltwb3NpdGlvbkluZGV4XSxcbiAgICAgICAgICAgIHRhcmdldFJlY3Q6IHRoaXMudGFyZ2V0UmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgIH0sIGZ1bmN0aW9uICh2aW9sYXRpb24sIHJlY3QpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBfYiA9IF90aGlzLnByb3BzLCBkaXNhYmxlUmVwb3NpdGlvbiA9IF9iLmRpc2FibGVSZXBvc2l0aW9uLCBjb250ZW50TG9jYXRpb24gPSBfYi5jb250ZW50TG9jYXRpb24sIGNvbnRlbnREZXN0aW5hdGlvbiA9IF9iLmNvbnRlbnREZXN0aW5hdGlvbjtcbiAgICAgICAgICAgIGlmICh2aW9sYXRpb24gJiYgIWRpc2FibGVSZXBvc2l0aW9uICYmICEodHlwZW9mIGNvbnRlbnRMb2NhdGlvbiA9PT0gJ29iamVjdCcpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVuZGVyUG9wb3Zlcihwb3NpdGlvbkluZGV4ICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX2MgPSBfdGhpcy5wcm9wcywgY29udGVudExvY2F0aW9uXzEgPSBfYy5jb250ZW50TG9jYXRpb24sIGFsaWduID0gX2MuYWxpZ247XG4gICAgICAgICAgICAgICAgdmFyIF9kID0gX3RoaXMuZ2V0TnVkZ2VkUG9wb3ZlclBvc2l0aW9uKHJlY3QpLCBudWRnZWRUb3AgPSBfZC50b3AsIG51ZGdlZExlZnQgPSBfZC5sZWZ0O1xuICAgICAgICAgICAgICAgIHZhciByZWN0VG9wID0gcmVjdC50b3AsIHJlY3RMZWZ0ID0gcmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IF90aGlzLnBvc2l0aW9uT3JkZXJbcG9zaXRpb25JbmRleF07XG4gICAgICAgICAgICAgICAgdmFyIF9lID0gZGlzYWJsZVJlcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgPyB7IHRvcDogcmVjdFRvcCwgbGVmdDogcmVjdExlZnQgfVxuICAgICAgICAgICAgICAgICAgICA6IHsgdG9wOiBudWRnZWRUb3AsIGxlZnQ6IG51ZGdlZExlZnQgfSwgdG9wXzEgPSBfZS50b3AsIGxlZnQgPSBfZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50TG9jYXRpb25fMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0UmVjdCA9IF90aGlzLnRhcmdldFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9wb3ZlclJlY3QgPSBfdGhpcy5wb3BvdmVyRGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0eXBlb2YgY29udGVudExvY2F0aW9uXzEgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29udGVudExvY2F0aW9uXzEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wb3ZlclJlY3Q6IHBvcG92ZXJSZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogYWxpZ24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVkZ2VkTGVmdDogbnVkZ2VkTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWRnZWRUb3A6IG51ZGdlZFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnRlbnRMb2NhdGlvbl8xLCB0b3BfMSA9IF9hLnRvcCwgbGVmdCA9IF9hLmxlZnQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyRGl2LnN0eWxlLmxlZnQgPSBsZWZ0LnRvRml4ZWQoKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucG9wb3ZlckRpdi5zdHlsZS50b3AgPSB0b3BfMS50b0ZpeGVkKCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb25Ub3BPZmZzZXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb25MZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnREZXN0aW5hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc3RSZWN0ID0gY29udGVudERlc3RpbmF0aW9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Ub3BPZmZzZXQgPSAtZGVzdFJlY3QudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25MZWZ0T2Zmc2V0ID0gLWRlc3RSZWN0LmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFic29sdXRlVG9wID0gdG9wXzEgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhYnNvbHV0ZUxlZnQgPSBsZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxMZWZ0ID0gYWJzb2x1dGVMZWZ0ICsgZGVzdGluYXRpb25Ub3BPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbFRvcCA9IGFic29sdXRlVG9wICsgZGVzdGluYXRpb25MZWZ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyRGl2LnN0eWxlLmxlZnQgPSBmaW5hbExlZnQudG9GaXhlZCgpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyRGl2LnN0eWxlLnRvcCA9IGZpbmFsVG9wLnRvRml4ZWQoKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMucG9wb3ZlckRpdi5zdHlsZS53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3BvdmVyRGl2LnN0eWxlLmhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJXaXRoUG9zaXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIG51ZGdlZFRvcDogbnVkZ2VkVG9wIC0gcmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgIG51ZGdlZExlZnQ6IG51ZGdlZExlZnQgLSByZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFJlY3Q6IF90aGlzLnRhcmdldFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgICAgICBwb3BvdmVyUmVjdDogX3RoaXMucG9wb3ZlckRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0VGFyZ2V0UG9zaXRpb25MaXN0ZW5lcigxMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5wb3BvdmVyRGl2LnN0eWxlLm9wYWNpdHkgIT09ICcxJyAmJiAhX3RoaXMuc3RhdGUuaXNUcmFuc2l0aW9uaW5nVG9DbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBvcG92ZXJEaXYuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvcG92ZXIucHJvdG90eXBlLnJlbmRlclBvcG92ZXJDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjb250ZW50ID0gX2EuY29udGVudCwgaXNPcGVuID0gX2EuaXNPcGVuLCBjb250ZW50RGVzdGluYXRpb24gPSBfYS5jb250ZW50RGVzdGluYXRpb247XG4gICAgICAgIHZhciBfYiA9IHRoaXMuc3RhdGUsIHBvcG92ZXJJbmZvID0gX2IucG9wb3ZlckluZm8sIGlzVHJhbnNpdGlvbmluZ1RvQ2xvc2VkID0gX2IuaXNUcmFuc2l0aW9uaW5nVG9DbG9zZWQ7XG4gICAgICAgIGlmICgoaXNPcGVuIHx8IGlzVHJhbnNpdGlvbmluZ1RvQ2xvc2VkKSAmJiB0aGlzLnBvcG92ZXJEaXYgJiYgcG9wb3ZlckluZm8pIHtcbiAgICAgICAgICAgIHZhciBnZXRDb250ZW50ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGNvbnRlbnQgPT09ICdmdW5jdGlvbicgPyBjb250ZW50KGFyZ3MpIDogY29udGVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJQb3J0YWxfMS5Qb3BvdmVyUG9ydGFsLCB7IGVsZW1lbnQ6IHRoaXMucG9wb3ZlckRpdiwgY29udGFpbmVyOiBjb250ZW50RGVzdGluYXRpb24gfHwgd2luZG93LmRvY3VtZW50LmJvZHkgfSwgZ2V0Q29udGVudChwb3BvdmVySW5mbykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFBvcG92ZXIucHJvdG90eXBlLnJlbmRlckNoaWxkQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBjaGlsZHJlbih0aGlzLnRhcmdldFJlZilcbiAgICAgICAgICAgIDogcmVhY3RfMS5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgICAgIHJlZjogdGhpcy50YXJnZXRSZWYsXG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvcG92ZXIucHJvdG90eXBlLnJlbmRlcldpdGhQb3NpdGlvbiA9IGZ1bmN0aW9uIChfYSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gX2EucG9zaXRpb24sIF9iID0gX2EubnVkZ2VkTGVmdCwgbnVkZ2VkTGVmdCA9IF9iID09PSB2b2lkIDAgPyAwIDogX2IsIF9jID0gX2EubnVkZ2VkVG9wLCBudWRnZWRUb3AgPSBfYyA9PT0gdm9pZCAwID8gMCA6IF9jLCBfZCA9IF9hLnRhcmdldFJlY3QsIHRhcmdldFJlY3QgPSBfZCA9PT0gdm9pZCAwID8gdXRpbF8xLkNvbnN0YW50cy5FTVBUWV9DTElFTlRfUkVDVCA6IF9kLCBfZSA9IF9hLnBvcG92ZXJSZWN0LCBwb3BvdmVyUmVjdCA9IF9lID09PSB2b2lkIDAgPyB1dGlsXzEuQ29uc3RhbnRzLkVNUFRZX0NMSUVOVF9SRUNUIDogX2U7XG4gICAgICAgIHZhciBfZiA9IHRoaXMucHJvcHMsIHBhZGRpbmcgPSBfZi53aW5kb3dCb3JkZXJQYWRkaW5nLCBhbGlnbiA9IF9mLmFsaWduO1xuICAgICAgICB2YXIgcG9wb3ZlckluZm8gPSB7IHBvc2l0aW9uOiBwb3NpdGlvbiwgbnVkZ2VkTGVmdDogbnVkZ2VkTGVmdCwgbnVkZ2VkVG9wOiBudWRnZWRUb3AsIHRhcmdldFJlY3Q6IHRhcmdldFJlY3QsIHBvcG92ZXJSZWN0OiBwb3BvdmVyUmVjdCwgYWxpZ246IGFsaWduIH07XG4gICAgICAgIGlmICghdXRpbF8xLnBvcG92ZXJJbmZvc0FyZUVxdWFsKHRoaXMuc3RhdGUucG9wb3ZlckluZm8sIHBvcG92ZXJJbmZvKSkge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlbW92ZVBvcG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwb3BvdmVySW5mbzogcG9wb3ZlckluZm8sIGlzVHJhbnNpdGlvbmluZ1RvQ2xvc2VkOiBmYWxzZSwgaW50ZXJuYWxpc09wZW46IHRydWUgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy53aWxsVW5tb3VudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhcmdldFJlY3QgPSBfdGhpcy50YXJnZXRSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBwb3BvdmVyUmVjdCA9IF90aGlzLnBvcG92ZXJEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuZ2V0TG9jYXRpb25Gb3JQb3NpdGlvbihwb3NpdGlvbiwgdGFyZ2V0UmVjdCwgcG9wb3ZlclJlY3QpLCB0b3AgPSBfYS50b3AsIGxlZnQgPSBfYS5sZWZ0O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKChwb3NpdGlvbiA9PT0gJ3RvcCcgJiYgdG9wIDwgcGFkZGluZykgfHxcbiAgICAgICAgICAgICAgICAgICAgKHBvc2l0aW9uID09PSAnbGVmdCcgJiYgbGVmdCA8IHBhZGRpbmcpIHx8XG4gICAgICAgICAgICAgICAgICAgIChwb3NpdGlvbiA9PT0gJ3JpZ2h0JyAmJiBsZWZ0ICsgcG9wb3ZlclJlY3Qud2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHBhZGRpbmcpIHx8XG4gICAgICAgICAgICAgICAgICAgIChwb3NpdGlvbiA9PT0gJ2JvdHRvbScgJiYgdG9wICsgcG9wb3ZlclJlY3QuaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0IC0gcGFkZGluZyksIHsgd2lkdGg6IHBvcG92ZXJSZWN0LndpZHRoLCBoZWlnaHQ6IHBvcG92ZXJSZWN0LmhlaWdodCwgdG9wOiB0b3AsIGxlZnQ6IGxlZnQgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUG9wb3Zlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHJlYWN0XzEuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGRDb250ZW50KCksXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBvcG92ZXJDb250ZW50KCkpKTtcbiAgICB9O1xuICAgIFBvcG92ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBwYWRkaW5nOiB1dGlsXzEuQ29uc3RhbnRzLkRFRkFVTFRfUEFERElORyxcbiAgICAgICAgd2luZG93Qm9yZGVyUGFkZGluZzogdXRpbF8xLkNvbnN0YW50cy5ERUZBVUxUX1dJTkRPV19QQURESU5HLFxuICAgICAgICBwb3NpdGlvbjogREVGQVVMVF9QT1NJVElPTl9PUkRFUixcbiAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICBjb250YWluZXJDbGFzc05hbWU6IHV0aWxfMS5Db25zdGFudHMuUE9QT1ZFUl9DT05UQUlORVJfQ0xBU1NfTkFNRSxcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB1dGlsXzEuQ29uc3RhbnRzLkZBREVfVFJBTlNJVElPTixcbiAgICB9O1xuICAgIHJldHVybiBQb3BvdmVyO1xufShyZWFjdF8xLmRlZmF1bHQuQ29tcG9uZW50KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQb3BvdmVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/react-tiny-popover/dist/Popover.js\n");

/***/ }),

/***/ "../../../node_modules/react-tiny-popover/dist/PopoverPortal.js":
/*!**********************************************************************!*\
  !*** ../../../node_modules/react-tiny-popover/dist/PopoverPortal.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar react_1 = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\nvar react_dom_1 = __webpack_require__(/*! react-dom */ \"../../../node_modules/react-dom/index.js\");\nvar PopoverPortal = function (_a) {\n    var container = _a.container, element = _a.element, children = _a.children;\n    react_1.useLayoutEffect(function () {\n        container.appendChild(element);\n        return function () { return container.removeChild(element); };\n    }, [container]);\n    return react_dom_1.createPortal(children, element);\n};\nexports.PopoverPortal = PopoverPortal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L1BvcG92ZXJQb3J0YWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L1BvcG92ZXJQb3J0YWwuanM/MDJlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIHJlYWN0X2RvbV8xID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcbnZhciBQb3BvdmVyUG9ydGFsID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IF9hLmNvbnRhaW5lciwgZWxlbWVudCA9IF9hLmVsZW1lbnQsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW47XG4gICAgcmVhY3RfMS51c2VMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb250YWluZXIucmVtb3ZlQ2hpbGQoZWxlbWVudCk7IH07XG4gICAgfSwgW2NvbnRhaW5lcl0pO1xuICAgIHJldHVybiByZWFjdF9kb21fMS5jcmVhdGVQb3J0YWwoY2hpbGRyZW4sIGVsZW1lbnQpO1xufTtcbmV4cG9ydHMuUG9wb3ZlclBvcnRhbCA9IFBvcG92ZXJQb3J0YWw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/react-tiny-popover/dist/PopoverPortal.js\n");

/***/ }),

/***/ "../../../node_modules/react-tiny-popover/dist/util.js":
/*!*************************************************************!*\
  !*** ../../../node_modules/react-tiny-popover/dist/util.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Constants = {\n    POPOVER_CONTAINER_CLASS_NAME: 'react-tiny-popover-container',\n    DEFAULT_PADDING: 6,\n    DEFAULT_WINDOW_PADDING: 6,\n    FADE_TRANSITION: 0.35,\n    DEFAULT_ARROW_COLOR: 'black',\n    DEFAULT_POSITIONS: ['top', 'left', 'right', 'bottom'],\n    EMPTY_CLIENT_RECT: {\n        top: 0,\n        left: 0,\n        bottom: 0,\n        height: 0,\n        right: 0,\n        width: 0,\n    },\n};\nexports.arrayUnique = function (array) {\n    return array.filter(function (value, index, self) { return self.indexOf(value) === index; });\n};\nexports.rectsAreEqual = function (rectA, rectB) {\n    return rectA === rectB ||\n        ((rectA === null || rectA === void 0 ? void 0 : rectA.bottom) === (rectB === null || rectB === void 0 ? void 0 : rectB.bottom) &&\n            (rectA === null || rectA === void 0 ? void 0 : rectA.height) === (rectB === null || rectB === void 0 ? void 0 : rectB.height) &&\n            (rectA === null || rectA === void 0 ? void 0 : rectA.left) === (rectB === null || rectB === void 0 ? void 0 : rectB.left) &&\n            (rectA === null || rectA === void 0 ? void 0 : rectA.right) === (rectB === null || rectB === void 0 ? void 0 : rectB.right) &&\n            (rectA === null || rectA === void 0 ? void 0 : rectA.top) === (rectB === null || rectB === void 0 ? void 0 : rectB.top) &&\n            (rectA === null || rectA === void 0 ? void 0 : rectA.width) === (rectB === null || rectB === void 0 ? void 0 : rectB.width));\n};\nexports.popoverInfosAreEqual = function (infoA, infoB) {\n    return infoA === infoB ||\n        ((infoA === null || infoA === void 0 ? void 0 : infoA.align) === (infoB === null || infoB === void 0 ? void 0 : infoB.align) &&\n            (infoA === null || infoA === void 0 ? void 0 : infoA.nudgedLeft) === (infoB === null || infoB === void 0 ? void 0 : infoB.nudgedLeft) &&\n            (infoA === null || infoA === void 0 ? void 0 : infoA.nudgedTop) === (infoB === null || infoB === void 0 ? void 0 : infoB.nudgedTop) &&\n            exports.rectsAreEqual(infoA === null || infoA === void 0 ? void 0 : infoA.popoverRect, infoB === null || infoB === void 0 ? void 0 : infoB.popoverRect) &&\n            exports.rectsAreEqual(infoA === null || infoA === void 0 ? void 0 : infoA.targetRect, infoB === null || infoB === void 0 ? void 0 : infoB.targetRect) &&\n            (infoA === null || infoA === void 0 ? void 0 : infoA.position) === (infoB === null || infoB === void 0 ? void 0 : infoB.position));\n};\nexports.targetPositionHasChanged = function (oldTargetRect, newTargetRect) {\n    return oldTargetRect === undefined ||\n        oldTargetRect.left !== newTargetRect.left ||\n        oldTargetRect.top !== newTargetRect.top ||\n        oldTargetRect.width !== newTargetRect.width ||\n        oldTargetRect.height !== newTargetRect.height;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L3V0aWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXRpbnktcG9wb3Zlci9kaXN0L3V0aWwuanM/YWQwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29uc3RhbnRzID0ge1xuICAgIFBPUE9WRVJfQ09OVEFJTkVSX0NMQVNTX05BTUU6ICdyZWFjdC10aW55LXBvcG92ZXItY29udGFpbmVyJyxcbiAgICBERUZBVUxUX1BBRERJTkc6IDYsXG4gICAgREVGQVVMVF9XSU5ET1dfUEFERElORzogNixcbiAgICBGQURFX1RSQU5TSVRJT046IDAuMzUsXG4gICAgREVGQVVMVF9BUlJPV19DT0xPUjogJ2JsYWNrJyxcbiAgICBERUZBVUxUX1BPU0lUSU9OUzogWyd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nXSxcbiAgICBFTVBUWV9DTElFTlRfUkVDVDoge1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgfSxcbn07XG5leHBvcnRzLmFycmF5VW5pcXVlID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBzZWxmKSB7IHJldHVybiBzZWxmLmluZGV4T2YodmFsdWUpID09PSBpbmRleDsgfSk7XG59O1xuZXhwb3J0cy5yZWN0c0FyZUVxdWFsID0gZnVuY3Rpb24gKHJlY3RBLCByZWN0Qikge1xuICAgIHJldHVybiByZWN0QSA9PT0gcmVjdEIgfHxcbiAgICAgICAgKChyZWN0QSA9PT0gbnVsbCB8fCByZWN0QSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdEEuYm90dG9tKSA9PT0gKHJlY3RCID09PSBudWxsIHx8IHJlY3RCID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0Qi5ib3R0b20pICYmXG4gICAgICAgICAgICAocmVjdEEgPT09IG51bGwgfHwgcmVjdEEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlY3RBLmhlaWdodCkgPT09IChyZWN0QiA9PT0gbnVsbCB8fCByZWN0QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdEIuaGVpZ2h0KSAmJlxuICAgICAgICAgICAgKHJlY3RBID09PSBudWxsIHx8IHJlY3RBID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0QS5sZWZ0KSA9PT0gKHJlY3RCID09PSBudWxsIHx8IHJlY3RCID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0Qi5sZWZ0KSAmJlxuICAgICAgICAgICAgKHJlY3RBID09PSBudWxsIHx8IHJlY3RBID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0QS5yaWdodCkgPT09IChyZWN0QiA9PT0gbnVsbCB8fCByZWN0QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdEIucmlnaHQpICYmXG4gICAgICAgICAgICAocmVjdEEgPT09IG51bGwgfHwgcmVjdEEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlY3RBLnRvcCkgPT09IChyZWN0QiA9PT0gbnVsbCB8fCByZWN0QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdEIudG9wKSAmJlxuICAgICAgICAgICAgKHJlY3RBID09PSBudWxsIHx8IHJlY3RBID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWN0QS53aWR0aCkgPT09IChyZWN0QiA9PT0gbnVsbCB8fCByZWN0QiA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVjdEIud2lkdGgpKTtcbn07XG5leHBvcnRzLnBvcG92ZXJJbmZvc0FyZUVxdWFsID0gZnVuY3Rpb24gKGluZm9BLCBpbmZvQikge1xuICAgIHJldHVybiBpbmZvQSA9PT0gaW5mb0IgfHxcbiAgICAgICAgKChpbmZvQSA9PT0gbnVsbCB8fCBpbmZvQSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mb0EuYWxpZ24pID09PSAoaW5mb0IgPT09IG51bGwgfHwgaW5mb0IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm9CLmFsaWduKSAmJlxuICAgICAgICAgICAgKGluZm9BID09PSBudWxsIHx8IGluZm9BID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvQS5udWRnZWRMZWZ0KSA9PT0gKGluZm9CID09PSBudWxsIHx8IGluZm9CID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvQi5udWRnZWRMZWZ0KSAmJlxuICAgICAgICAgICAgKGluZm9BID09PSBudWxsIHx8IGluZm9BID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvQS5udWRnZWRUb3ApID09PSAoaW5mb0IgPT09IG51bGwgfHwgaW5mb0IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm9CLm51ZGdlZFRvcCkgJiZcbiAgICAgICAgICAgIGV4cG9ydHMucmVjdHNBcmVFcXVhbChpbmZvQSA9PT0gbnVsbCB8fCBpbmZvQSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mb0EucG9wb3ZlclJlY3QsIGluZm9CID09PSBudWxsIHx8IGluZm9CID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvQi5wb3BvdmVyUmVjdCkgJiZcbiAgICAgICAgICAgIGV4cG9ydHMucmVjdHNBcmVFcXVhbChpbmZvQSA9PT0gbnVsbCB8fCBpbmZvQSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5mb0EudGFyZ2V0UmVjdCwgaW5mb0IgPT09IG51bGwgfHwgaW5mb0IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm9CLnRhcmdldFJlY3QpICYmXG4gICAgICAgICAgICAoaW5mb0EgPT09IG51bGwgfHwgaW5mb0EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm9BLnBvc2l0aW9uKSA9PT0gKGluZm9CID09PSBudWxsIHx8IGluZm9CID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbmZvQi5wb3NpdGlvbikpO1xufTtcbmV4cG9ydHMudGFyZ2V0UG9zaXRpb25IYXNDaGFuZ2VkID0gZnVuY3Rpb24gKG9sZFRhcmdldFJlY3QsIG5ld1RhcmdldFJlY3QpIHtcbiAgICByZXR1cm4gb2xkVGFyZ2V0UmVjdCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIG9sZFRhcmdldFJlY3QubGVmdCAhPT0gbmV3VGFyZ2V0UmVjdC5sZWZ0IHx8XG4gICAgICAgIG9sZFRhcmdldFJlY3QudG9wICE9PSBuZXdUYXJnZXRSZWN0LnRvcCB8fFxuICAgICAgICBvbGRUYXJnZXRSZWN0LndpZHRoICE9PSBuZXdUYXJnZXRSZWN0LndpZHRoIHx8XG4gICAgICAgIG9sZFRhcmdldFJlY3QuaGVpZ2h0ICE9PSBuZXdUYXJnZXRSZWN0LmhlaWdodDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../node_modules/react-tiny-popover/dist/util.js\n");

/***/ })

}]);